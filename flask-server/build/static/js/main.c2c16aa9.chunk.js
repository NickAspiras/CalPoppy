(this["webpackJsonpswanton-chat-bot"]=this["webpackJsonpswanton-chat-bot"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},40:function(e,t,n){},51:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);n(45);var c=n(1),a=n.n(c),s=n(41),o=n.n(s),r=n(20),i=n(28),l=n(6),b=n(18),d=n.n(b),u=n(90),h=(n(51),n(30),n(2));function p(e){var t=e.onSend,n=Object(c.useRef)(null);function a(){if(n.current&&!/^\s*$/g.test(n.current.innerText)){var e=n.current.innerText.trim();n.current.innerText="",t(e)}}return Object(c.useEffect)((function(){var e=n.current;if(e){var t=function(e){"Enter"===e.key&&(e.preventDefault(),a())};return e.addEventListener("keypress",t),function(){return e.removeEventListener("keypress",t)}}})),Object(h.b)("div",{className:"menuBarStyle ChatComposer",children:Object(h.c)("div",{className:"contentStyle",children:[Object(h.b)("div",{className:"scrollableY txtFieldStyle",ref:n,contentEditable:"true"}),Object(h.c)("button",{className:"sendButtonStyle",onClick:function(){return a()},children:[Object(h.b)(u.a,{size:20}),Object(h.b)("p",{className:"buttonTextStyle",children:"Send"})]})]})})}n(58),n(59);function j(e){var t=e.text,n=e.senderID,c=e.showFeedback,a=e.onFeedbackGiven,s=e.feedback,o=e.timestamp;return Object(h.c)("div",{className:"msgWrapper ".concat(n?"msgWrapperBot":"msgWrapperUser"," "),children:[Object(h.b)("p",{className:" msg ".concat(n?"msgBot":"msgUser"," "),children:t}),Object(h.b)("br",{}),n&&c&&Object(h.c)(h.a,{children:[Object(h.b)("button",{type:"button",className:" feedbackIcon ".concat("undefined"!==typeof s&&s?"feedbackIconPos":""," "),onClick:function(){return a(o,!0)},children:Object(h.b)("i",{class:"bi bi-hand-thumbs-up"})}),Object(h.b)("button",{type:"button",className:" feedbackIcon ".concat("undefined"===typeof s||s?"":"feedbackIconNeg"," "),onClick:function(){return a(o,!1)},children:Object(h.b)("i",{class:"bi bi-hand-thumbs-down"})})]})]})}n(31);var f=n(0);function O(){return Object(f.jsx)("div",{class:"container",children:Object(f.jsxs)("div",{class:"bubble",children:[Object(f.jsx)("h4",{children:"How to ask Poppy a Question:"}),"Simply type your question into the keyboard and press enter or ask Poppy your question aloud!",Object(f.jsx)("p",{}),Object(f.jsx)("h4",{children:"Don't know what to ask?"}),"Visit the FAQ page for a list of suggested questions to help get you started!",Object(f.jsx)("p",{}),Object(f.jsx)("h4",{children:"How to use the feedback feature:"}),"Please use the thumbs up/thumbs down buttons below each Poppy response to let us know whether or not Poppy answered your question appropriately! ",Object(f.jsx)("p",{}),Object(f.jsx)("h4",{children:"How to use the map feature:"}),"Use a finger to move around the map, or two fingers to zoom in and out on the map",Object(f.jsx)("p",{})]})})}n(60);var m=n.p+"static/media/spr_logo.f4211a78.png";function g(){var e="Ask anything you want to know about the ranch!\n  Check out how to use Poppy by clicking the question mark above.".split("\n").map((function(e,t){return Object(h.b)("p",{className:"descriptionStyle",children:e},t)}));return Object(h.c)("div",{className:"cardStyles",children:[Object(h.b)("img",{className:"logoStyle",src:m,alt:"Swanton Poppy Logo"}),Object(h.b)("h2",{className:"titleStyle",children:"Welcome to Swanton Poppy Chat!"}),e]})}n(61);function x(e){var t=e.conversation,n=e.suggestionsOpen,a=e.onSend,s=e.onSuggestionClick,o=e.onFeedbackGiven,r=Object(c.useRef)(null),i=t.length?t.map((function(e){return Object(h.b)(j,{text:e.text,timestamp:e.timestamp,showFeedback:"answer"===e.responseType,senderID:"user"!==e.sender,feedback:e.feedback,onFeedbackGiven:o},e.timestamp)})):Object(h.b)(g,{});return Object(h.b)("div",{className:"ChatWindow scrollableY windowStyles",ref:r,children:n?Object(h.b)(O,{onSend:a,onSuggestionClick:s}):i})}var y=n(91),v=n(92);n(62);function w(e){var t=e.onSuggestionClick,n=e.suggestionsOpen;!function(e){var t=function(t){return"q"===t.key&&e(t)};Object(c.useEffect)((function(){return window.addEventListener("keypress",t),function(){return window.removeEventListener("keypress",t)}}))}((function(){n&&t()}));var a=n?Object(h.b)(y.a,{size:30,className:"helpIcon",onClick:function(){return t()}}):Object(h.b)(v.a,{className:"helpIcon",size:30,onClick:function(){return t()}});return Object(h.c)("header",{className:"chatHeader",children:[Object(h.b)("h2",{className:"chatHeaderTitle",children:n?"How to Use Poppy":"Swanton Pacific Ranch Chat"}),a]})}n(63);function k(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1],o=Object(c.useState)(""),b=Object(l.a)(o,2),u=b[0],j=b[1],f=Object(c.useState)([]),O=Object(l.a)(f,2),m=O[0],g=O[1],y=Object(c.useState)(0),v=Object(l.a)(y,2),k=v[0],S=v[1],C=Object(c.useState)(0),P=Object(l.a)(C,2),N=(P[0],P[1],Object(c.useState)(0)),T=Object(l.a)(N,2),F=T[0],I=T[1],E=function(){s((function(e){return!e}))};Object(c.useEffect)((function(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(i.a)(d.a.mark((function e(t){var n,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Before Fetch",t),e.next=3,fetch("/api_call",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,a=c.sentences+k,S(k+1),e.abrupt("return",[{text:a}]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(i.a)(d.a.mark((function t(){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("-1"),t.next=4,e(u);case 4:n=t.sent,console.log("0"),c=n.map((function(e,t){return{text:e.text,sender:"bot",timestamp:Date.now()+t,responseType:0===t?"answer":"followUp"}})),console.log("1"),j(""),console.log("2"),g([].concat(Object(r.a)(m),Object(r.a)(c))),console.log("3"),t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(0),console.log("THIS IS BAD"),console.error(t.t0),t.abrupt("return");case 19:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}console.log("Effect triggered"),""!==u&&(console.log("Call post"),function(){n.apply(this,arguments)}())}),[u]);var R=function(e){g([].concat(Object(r.a)(m),[{text:e,sender:"user",timestamp:Date.now()}])),j(e)};return Object(h.c)("main",{className:"Chatbot chatbotStyle",children:[Object(h.b)(w,{onSuggestionClick:E,suggestionsOpen:a}),Object(h.b)(x,{conversation:m,suggestionsOpen:a,onSend:R,onSuggestionClick:E,onFeedbackGiven:function(e,t){var n=m.findIndex((function(t){return t.timestamp===e}));m[n].feedback=t,I(F+1)}}),!a&&Object(h.b)(p,{onSend:R})]})}var S=n(29),C=n.n(S);C.a.defaults.baseURL="https://swantonpoppy.org/",C.a.defaults.headers.post["Access-Control-Allow-Origin"]="*";var P=n(14),N={color:{primary:"#fff",accent:"#36863A",secondary:"#133F2E",light:"#EBEBEB",error:"#d43646"},borderRadius:["10px","15px","20px"],shadow:{menuBar:"0px 1px 18px 0px rgba(19, 63, 46, 0.2)",message:"0px 10px 15px 0px rgba(19, 63, 46, 0.05)"}},T=["Swanton Pacific Ranch (SPR) is a 3200-acre satellite property of California Polytechnic State University \nlocated in Santa Cruz County off Highway 1, ~60 miles south of San Francisco. The land is composed of a majestic redwood forest, \nlush riverine ecosystems, and expansive coastal grassland overlooking the bay and the Pacific Ocean. It was donated to Cal Poly \nby alumni Al Smith in 1993. Smith\u2019s goal was for the land to be \u201cmaintained as a working ranch and used exclusively for \nagriculture, recreational, educational purposes.\u201d Since its donation, the Ranch has been managed by Cal Poly\u2019s College of \nAgriculture, Food and Environmental Sciences. Faculty, graduate students, and undergraduates actively pursue research \nopportunities, utilizing the forest, range, and watershed resources within the ranch.","Due to the lack of signage off of Highway 1 and the inability of ranch staff to constantly be availiable to field questions, \nsharing the rich history and research opportunities of Swanton Pacific Ranch has always been a problem. Due to a fire destroying \nmuch of the ranch (including many landmarks and a lot of physical data) in late summer 2020, the necessity to preserve and spread \nknowledge of the ranch has become a priority. So, a plan was devised to provide access to this information through an interactive, \nremotely updated, creative outreach tool for researchers and the public, requiring no mediation...and Poppy the Chatbot was born!\n"],F=["Poppy was brought to you by Cal Poly students from many different majors, disciplines, backgrounds. \nShe is still a work in progress, so if you find any issues you would like to report, please contact:","Poppy Software Team","swantonpoppycp@gmail.com"],I=["Poppy needs your help to ensure that she can stay up and running to educate future generations on SPR's rich history!","Interested in donating? Contact:","Jeanine Scaramozzino","swantonpoppycp@gmail.com"],E=["How big is Swanton Pacific Ranch?","Where did Swanton get its name?","What group of Indigenous Peoples lived in the Swanton area before Spanish colonization?","What was the original name of the land grant that Swanton was part of?","How many plants have been identified in the Swanton/Scott Creek Watershed?","What is a fun fact about the Rancho?","How do I plan a visit to Swanton?"],R=function(){return Object(f.jsx)("div",{class:"container",children:Object(f.jsxs)("div",{class:"row text-white center-block",children:[Object(f.jsx)("div",{class:"col",align:"center",children:Object(f.jsx)("div",{class:"bubble",children:Object(f.jsxs)("div",{class:"card-body",children:[Object(f.jsx)("h4",{class:"card-title",children:"Suggested Questions"}),Object(f.jsx)("h6",{children:"Click on any of the questions to ask Poppy!"}),Object(f.jsxs)("div",{class:"btn-group-vertical",children:[Object(f.jsx)("button",{onClick:"sendMessage(suggestions[0])",type:"button",class:"roundbutton",children:E[0]}),Object(f.jsx)("button",{onClick:"sendMessage(suggestions[1])",type:"button",class:"roundbutton",children:E[1]}),Object(f.jsx)("button",{onClick:"sendMessage(suggestions[2])",type:"button",class:"roundbutton",children:E[2]}),Object(f.jsx)("button",{onClick:"sendMessage(suggestions[3])",type:"button",class:"roundbutton",children:E[3]}),Object(f.jsx)("button",{onClick:"sendMessage(suggestions[4])",type:"button",class:"roundbutton",children:E[4]}),Object(f.jsx)("button",{onClick:"sendMessage(suggestions[5])",type:"button",class:"roundbutton",children:E[5]})]})]})})}),Object(f.jsx)("div",{class:"col",align:"center",children:Object(f.jsx)("div",{class:"bubble",children:Object(f.jsxs)("div",{class:"card-body",children:[Object(f.jsx)("h4",{class:"card-title",children:"About Swanton Pacific Ranch"}),Object(f.jsxs)("h6",{children:[Object(f.jsx)("br",{}),T[0],Object(f.jsx)("p",{}),Object(f.jsx)("br",{}),T[1]]})]})})}),Object(f.jsx)("div",{class:"w-70"}),Object(f.jsx)("div",{class:"col",align:"center",children:Object(f.jsx)("div",{class:"bubble",children:Object(f.jsxs)("div",{class:"card-body",children:[Object(f.jsx)("h4",{class:"card-title",children:"About the Creators"}),Object(f.jsxs)("h6",{children:[Object(f.jsx)("br",{}),F[0],Object(f.jsx)("p",{}),F[1],Object(f.jsx)("br",{}),F[2]]})]})})}),Object(f.jsx)("div",{class:"col",align:"center",children:Object(f.jsx)("div",{class:"bubble",children:Object(f.jsxs)("div",{class:"card-body",children:[Object(f.jsx)("h4",{class:"card-title",children:"Want to Help?"}),Object(f.jsxs)("h6",{children:[Object(f.jsx)("br",{}),I[0],Object(f.jsx)("br",{}),I[1],Object(f.jsx)("p",{}),I[2],Object(f.jsx)("br",{}),I[3]]})]})})})]})})},H=n(11),B=n(93),M=n(94),A=n(95),W=n(96),D=n(97);n(83),n(84);function L(){return Object(f.jsx)(B.a,{fluid:!0,style:{height:"94.8%",padding:"0",overflow:"hidden"},children:Object(f.jsxs)("div",{class:"home_background",children:[Object(f.jsx)(M.a,{style:{paddingTop:"2rem"},children:Object(f.jsx)(A.a,{children:Object(f.jsx)(W.a,{src:m,height:"300rem",width:"300rem",style:{filter:"drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25))"}})})}),Object(f.jsx)(M.a,{style:{paddingTop:"5rem",paddingBottom:"2rem",filter:"drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25))"},children:Object(f.jsx)(A.a,{children:Object(f.jsx)(H.b,{to:"/chatbot",children:Object(f.jsx)(D.a,{variant:"primary",id:"btn-large",class:"rounded-1 text-nowrap",children:"Chat with Poppy"})})})}),Object(f.jsx)(M.a,{style:{filter:"drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25))"},children:Object(f.jsx)(A.a,{children:Object(f.jsx)(H.b,{to:"/about",marginLeft:"50rem",marginRight:"10rem",children:Object(f.jsx)(D.a,{variant:"primary",id:"btn-small",class:"rounded-1 text-nowrap",children:"About"})})})})]})})}n(85);function q(){return Object(h.c)("div",{className:"MapPage",children:[Object(h.b)("h1",{className:"mapTitle",children:"Swanton Pacific Ranch Maps"}),Object(h.b)("text",{className:"mapText",children:"The interactive map below provides different views of the ranch. This includes several layers with different toggable map elements. A more comprehensive interactive map will be made available at a later date."}),Object(h.b)("iframe",{title:"CalPoly SPR",class:"map",src:"https://calpoly.maps.arcgis.com/apps/instant/basic/index.html?appid=154965d4fc4245e0ab96e94e63252f15"}),Object(h.b)("hr",{className:"divline"}),Object(h.b)("h1",{className:"mapTitle",children:"Other Maps"}),Object(h.b)("text",{className:"mapText",children:"More maps coming soon."})]})}var z=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Poppy the Chatbot"}),"swantonpoppycp@gmail.com",Object(f.jsx)("h1",{children:"Cal Poppy Program"}),"Jeanine"]})},U=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"404"}),Object(f.jsx)("h2",{children:"Page Not Found"}),"We are currently working on this functionality!"]})},_=n.p+"static/media/spr_sp_logo.f7f2a2fe.png",G=(n(40),n(86),n(3));function J(){return Object(f.jsx)(P.b,{theme:N,children:Object(f.jsxs)(H.a,{children:[Object(f.jsx)("div",{class:"topnav sticky-top",children:Object(f.jsxs)("nav",{children:[Object(f.jsx)(H.b,{to:"/",children:Object(f.jsx)("button",{class:"navbutton",type:"button",style:{padding:1.5},children:Object(f.jsx)("img",{src:_,className:"home_logo",alt:"poppy logo"})})}),Object(f.jsx)(H.b,{to:"/chatbot",children:Object(f.jsx)("button",{class:"navbutton",type:"button",children:"Chat"})}),Object(f.jsx)(H.b,{to:"/maps",children:Object(f.jsx)("button",{class:"navbutton",type:"button",children:"Maps"})}),Object(f.jsx)(H.b,{to:"/about",children:Object(f.jsx)("button",{class:"navbutton",type:"button",children:"Learn More"})}),Object(f.jsx)(H.b,{to:"/contact",children:Object(f.jsx)("button",{class:"navbutton",type:"button",children:"Contact"})}),Object(f.jsx)(H.b,{to:"/404",children:Object(f.jsx)("button",{class:"navbutton",type:"button",children:"Help Poppy Grow"})})]})}),Object(f.jsxs)(G.c,{children:[Object(f.jsx)(G.a,{path:"/",element:Object(f.jsx)(L,{})}),Object(f.jsx)(G.a,{path:"/chatbot",element:Object(f.jsx)(k,{})}),Object(f.jsx)(G.a,{path:"/about",element:Object(f.jsx)(R,{})}),Object(f.jsx)(G.a,{path:"/maps",element:Object(f.jsx)(q,{})}),Object(f.jsx)(G.a,{path:"/contact",element:Object(f.jsx)(z,{})}),Object(f.jsx)(G.a,{path:"/404",element:Object(f.jsx)(U,{})})]})]})})}var Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(J,{})}),document.getElementById("root")),Q()}},[[87,1,2]]]);
//# sourceMappingURL=main.c2c16aa9.chunk.js.map